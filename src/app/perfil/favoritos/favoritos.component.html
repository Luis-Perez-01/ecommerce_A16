<div *ngFor="let p of favoriteProducts" class="dark:bg-gray-800 rounded-lg shadow-lg border border-gray-300/60 dark:border-0 divide-y divide-gray-200 dark:divide-gray-700 my-2">
    <div class="dark:border-gray-700 p-3">
        <div class="flex justify-between ">
            <span class="dark:text-white text-sm font-semibold line-clamp-2">{{ p.productId.name }}</span>
            <span (click)="removeFavorite(p._id)" class="hover:opacity-70">
                <i class='bx bxs-heart bx-sm text-indigo-600 inline-block align-middle'></i>
            </span>
        </div>
    </div>
    <div class="grid lg:grid-cols-6 gap-3 p-3">
        <div class="col-span-3 lg:col-span-1">
            <img class="object-cover object-center mx-auto max-w-28 max-h-28 rounded-lg" src="{{ p.productId.images[0] }}" alt="">
        </div>
        <div class="col-span-3 lg:col-span-3">
            <p class="dark:text-white font-semibold line-clamp-1">{{ p.productId.name }}</p>
            <p class="text-gray-500 text-sm line-clamp-1" *ngIf="p.productId.stock > 0">Disponible ({{p.productId.stock}})</p>
            <p class="text-green-600 dark:text-green-500/70">Envío gratis</p>
            <p class="dark:text-white pt-2">{{ p.productId.price | currency }}</p>
        </div>
        <div class="col-span-6 lg:col-span-2">
            <label (click)="addToCart(p.productId)" for="my-drawer-4" type="submit" class="rounded-lg text-white bg-indigo-700 text-center cursor-pointer w-full font-semibold hover:opacity-70 text-sm p-2 my-1">Comprar ahora</label>
            <a href="/producto/{{p.productId.slug}}" class="inline-block text-center rounded-lg dark:text-white border border-gray-400 dark:border-gray-600 font-semibold hover:bg-gray-400 hover:text-white dark:hover:bg-gray-600 text-sm p-2 my-1 w-full">Ver más</a>
        </div>
    </div>
</div>
